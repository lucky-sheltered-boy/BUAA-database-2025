# 前端项目启动指南

## 🚀 快速启动

### 1. 安装依赖

```bash
cd frontend
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

前端服务将运行在 http://localhost:5173

### 3. 确保后端服务已启动

后端服务需要运行在 http://localhost:8000

```bash
cd backend
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

## 📝 测试账号

### 学生账号
- **学号**: 2021001
- **密码**: 123456
- **姓名**: 张三
- **功能**: 选课、退课、查看课表

### 教师账号
- **工号**: T001
- **密码**: 123456
- **姓名**: 张教授
- **功能**: 查看课表、查看学生名单

### 教务账号
- **工号**: A001
- **密码**: 123456
- **姓名**: 教务1
- **功能**: 系统概览、选课统计

## 🎯 功能演示流程

### 学生端演示
1. 使用学生账号登录 (2021001/123456)
2. 查看首页统计数据
3. 进入"选课中心"查看可选课程
4. 点击"选课"按钮选择课程
5. 进入"我的课表"查看已选课程
6. 支持退课操作

### 教师端演示
1. 使用教师账号登录 (T001/123456)
2. 查看首页授课统计
3. 进入"我的课表"查看授课安排
4. 查看每门课程的选课情况
5. 点击"查看学生名单"查看选课学生

### 教务端演示
1. 使用教务账号登录 (A001/123456)
2. 查看系统概览（院系、课程、教室、用户统计）
3. 进入"选课统计"查看详细数据
4. 查看每门课程的选课率和名额使用情况

## 🛠 技术栈

- **Vue 3.4** - 渐进式JavaScript框架
- **Vite 5** - 新一代前端构建工具
- **Element Plus 2.6** - Vue 3 UI组件库
- **Pinia 2.1** - Vue 状态管理
- **Vue Router 4** - 官方路由管理器
- **Axios** - HTTP客户端

## 📂 项目结构

```
frontend/
├── src/
│   ├── views/              # 页面组件
│   │   ├── Login.vue       # 登录页
│   │   ├── student/        # 学生端
│   │   │   ├── Layout.vue
│   │   │   ├── Dashboard.vue
│   │   │   ├── CourseSelection.vue
│   │   │   └── MySchedule.vue
│   │   ├── teacher/        # 教师端
│   │   │   ├── Layout.vue
│   │   │   ├── Dashboard.vue
│   │   │   ├── MySchedule.vue
│   │   │   └── StudentList.vue
│   │   └── admin/          # 教务端
│   │       ├── Layout.vue
│   │       ├── Dashboard.vue
│   │       └── Statistics.vue
│   ├── stores/             # 状态管理
│   │   ├── auth.js
│   │   └── semester.js
│   ├── router/             # 路由配置
│   │   └── index.js
│   ├── utils/              # 工具函数
│   │   ├── request.js
│   │   └── constants.js
│   ├── App.vue
│   └── main.js
├── index.html
├── vite.config.js
└── package.json
```

## 🌟 功能特性

### 学生端
✅ 个人信息展示  
✅ 选课统计面板  
✅ 可选课程列表（含剩余名额）  
✅ 在线选课功能  
✅ 在线退课功能  
✅ 个人课表展示（列表+表格）  
✅ 时间冲突自动检测  

### 教师端
✅ 授课统计面板  
✅ 授课课表展示  
✅ 选课率可视化  
✅ 学生名单查看  
✅ 本院系/跨院系学生区分  

### 教务端
✅ 系统数据概览  
✅ 用户角色统计  
✅ 选课统计报表  
✅ 选课率可视化  
✅ 名额使用情况分析  
✅ 统计数据汇总  

## ⚙️ 配置说明

### API代理配置

在 `vite.config.js` 中配置了API代理：

```javascript
server: {
  proxy: {
    '/api': {
      target: 'http://localhost:8000',
      changeOrigin: true
    }
  }
}
```

### 路由守卫

- 所有页面（除登录页）都需要登录才能访问
- 根据用户角色自动重定向到对应的首页
- Token失效自动跳转到登录页

## 🎨 UI设计特点

1. **响应式设计** - 支持桌面端和移动端
2. **现代化界面** - 使用Element Plus组件库
3. **渐变色主题** - 不同角色使用不同主题色
4. **卡片式布局** - 信息展示清晰美观
5. **数据可视化** - 进度条、标签等直观展示数据

## 🔧 常见问题

### Q: 登录后显示404？
A: 检查路由配置，确保角色对应的路由已创建

### Q: API请求失败？
A: 
1. 检查后端服务是否启动
2. 检查数据库连接是否正常
3. 查看浏览器控制台的错误信息

### Q: 选课失败？
A: 可能是：
1. 名额已满
2. 时间冲突
3. 未在选课时间窗口内
4. 数据库IP白名单限制

## 📦 生产部署

### 构建生产版本

```bash
npm run build
```

构建产物在 `dist/` 目录，可以部署到任何静态文件服务器。

### Nginx配置示例

```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /path/to/frontend/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## 📞 技术支持

如有问题请查看：
- 后端API文档: http://localhost:8000/docs
- Element Plus文档: https://element-plus.org/
- Vue 3文档: https://cn.vuejs.org/

---

祝使用愉快！🎉
