-- 测试数据插入脚本

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- 1. 插入院系信息
INSERT INTO `院系信息表` (`院系名称`) VALUES
('计算机科学与技术学院'),
('软件学院'),
('信息安全学院'),
('数学与统计学院'),
('物理学院');

-- 2. 插入教室信息
INSERT INTO `教室信息表` (`教学楼`, `房间号`, `容量`) VALUES
('教学楼A', '101', 60),
('教学楼A', '102', 80),
('教学楼A', '201', 60),
('教学楼A', '202', 100),
('教学楼B', '101', 50),
('教学楼B', '102', 50),
('教学楼B', '201', 120),
('教学楼C', '101', 40),
('教学楼C', '102', 40),
('教学楼C', '201', 60),
('实验楼', '301', 30),
('实验楼', '302', 30),
('实验楼', '401', 45);

-- 3. 插入时间段信息
INSERT INTO `时间段信息表` (`星期`, `开始时间`, `结束时间`) VALUES
-- 周一
('星期一', '08:00:00', '09:40:00'),
('星期一', '10:00:00', '11:40:00'),
('星期一', '14:00:00', '15:40:00'),
('星期一', '16:00:00', '17:40:00'),
('星期一', '19:00:00', '20:40:00'),
-- 周二
('星期二', '08:00:00', '09:40:00'),
('星期二', '10:00:00', '11:40:00'),
('星期二', '14:00:00', '15:40:00'),
('星期二', '16:00:00', '17:40:00'),
('星期二', '19:00:00', '20:40:00'),
-- 周三
('星期三', '08:00:00', '09:40:00'),
('星期三', '10:00:00', '11:40:00'),
('星期三', '14:00:00', '15:40:00'),
('星期三', '16:00:00', '17:40:00'),
('星期三', '19:00:00', '20:40:00'),
-- 周四
('星期四', '08:00:00', '09:40:00'),
('星期四', '10:00:00', '11:40:00'),
('星期四', '14:00:00', '15:40:00'),
('星期四', '16:00:00', '17:40:00'),
('星期四', '19:00:00', '20:40:00'),
-- 周五
('星期五', '08:00:00', '09:40:00'),
('星期五', '10:00:00', '11:40:00'),
('星期五', '14:00:00', '15:40:00'),
('星期五', '16:00:00', '17:40:00'),
('星期五', '19:00:00', '20:40:00');

-- 4. 插入学期信息
INSERT INTO `学期信息表` (`学年`, `学期类型`, `开始日期`, `结束日期`, `选课开始时间`, `选课结束时间`, `是否当前学期`) VALUES
('2023-2024', '秋季', '2023-09-01', '2024-01-15', '2023-08-20 09:00:00', '2023-09-05 17:00:00', FALSE),
('2023-2024', '春季', '2024-02-20', '2024-06-30', '2024-02-01 09:00:00', '2024-02-25 17:00:00', FALSE),
('2024-2025', '秋季', '2024-09-01', '2025-01-15', '2024-08-20 09:00:00', '2024-09-05 17:00:00', FALSE),
('2024-2025', '春季', '2025-02-20', '2025-06-30', '2025-02-01 09:00:00', '2025-02-25 17:00:00', TRUE),
('2025-2026', '秋季', '2025-09-01', '2026-01-15', '2025-08-20 09:00:00', '2025-09-05 17:00:00', FALSE);

-- 5. 插入课程信息
INSERT INTO `课程信息表` (`课程ID`, `课程名称`, `学分`, `院系ID`) VALUES
-- 计算机科学与技术学院课程
('CS101', '数据结构与算法', 4.0, 1),
('CS102', '计算机组成原理', 3.5, 1),
('CS103', '操作系统', 4.0, 1),
('CS201', '计算机网络', 3.5, 1),
('CS202', '编译原理', 3.0, 1),
-- 软件学院课程
('SE101', '软件工程', 3.0, 2),
('SE102', '数据库系统', 4.0, 2),
('SE103', '软件测试', 2.5, 2),
('SE201', 'Web开发技术', 3.0, 2),
('SE202', '移动应用开发', 2.5, 2),
-- 信息安全学院课程
('IS101', '密码学', 3.0, 3),
('IS102', '网络安全', 3.5, 3),
('IS103', '信息安全数学基础', 3.0, 3),
-- 数学与统计学院课程
('MATH101', '高等数学A', 5.0, 4),
('MATH102', '线性代数', 3.0, 4),
('MATH103', '概率论与数理统计', 3.5, 4),
('MATH201', '离散数学', 3.0, 4),
-- 物理学院课程
('PHY101', '大学物理A', 4.0, 5),
('PHY102', '大学物理实验', 1.5, 5);

-- 6. 插入用户信息
INSERT INTO `用户信息表` (`学号_工号`, `姓名`, `密码哈希`, `角色`, `院系ID`) VALUES
-- 教务管理员
('A001', '王教务', 'hash_admin001', '教务', 1),
('A002', '李教务', 'hash_admin002', '教务', 2),
-- 教师 - 计算机学院
('T1001', '张教授', 'hash_teacher001', '教师', 1),
('T1002', '李副教授', 'hash_teacher002', '教师', 1),
('T1003', '王讲师', 'hash_teacher003', '教师', 1),
-- 教师 - 软件学院
('T2001', '赵教授', 'hash_teacher004', '教师', 2),
('T2002', '刘副教授', 'hash_teacher005', '教师', 2),
('T2003', '陈讲师', 'hash_teacher006', '教师', 2),
-- 教师 - 信息安全学院
('T3001', '孙教授', 'hash_teacher007', '教师', 3),
('T3002', '周副教授', 'hash_teacher008', '教师', 3),
-- 教师 - 数学学院
('T4001', '吴教授', 'hash_teacher009', '教师', 4),
('T4002', '郑副教授', 'hash_teacher010', '教师', 4),
('T4003', '钱讲师', 'hash_teacher011', '教师', 4),
-- 教师 - 物理学院
('T5001', '冯教授', 'hash_teacher012', '教师', 5),
('T5002', '陈讲师', 'hash_teacher013', '教师', 5),
-- 学生 - 计算机学院
('2021001', '张三', 'hash_student001', '学生', 1),
('2021002', '李四', 'hash_student002', '学生', 1),
('2021003', '王五', 'hash_student003', '学生', 1),
('2022001', '赵六', 'hash_student004', '学生', 1),
('2022002', '钱七', 'hash_student005', '学生', 1),
('2023001', '孙八', 'hash_student006', '学生', 1),
('2023002', '周九', 'hash_student007', '学生', 1),
('2024001', '吴十', 'hash_student008', '学生', 1),
-- 学生 - 软件学院
('2021101', '郑一', 'hash_student009', '学生', 2),
('2021102', '王二', 'hash_student010', '学生', 2),
('2022101', '刘三', 'hash_student011', '学生', 2),
('2022102', '陈四', 'hash_student012', '学生', 2),
('2023101', '杨五', 'hash_student013', '学生', 2),
('2024101', '黄六', 'hash_student014', '学生', 2),
-- 学生 - 信息安全学院
('2021201', '徐七', 'hash_student015', '学生', 3),
('2022201', '朱八', 'hash_student016', '学生', 3),
('2023201', '林九', 'hash_student017', '学生', 3),
('2024201', '何十', 'hash_student018', '学生', 3),
-- 学生 - 数学学院
('2021301', '高一', 'hash_student019', '学生', 4),
('2022301', '马二', 'hash_student020', '学生', 4),
('2023301', '梁三', 'hash_student021', '学生', 4),
-- 学生 - 物理学院
('2021401', '宋四', 'hash_student022', '学生', 5),
('2022401', '唐五', 'hash_student023', '学生', 5),
('2023401', '许六', 'hash_student024', '学生', 5);

-- 7. 插入开课实例（2024-2025春季学期）
-- 简化版:只开设核心课程,确保无冲突+容量充足
INSERT INTO `开课实例表` (`课程ID`, `教室ID`, `学期ID`, `对内名额`, `对外名额`, `已选对内人数`, `已选对外人数`) VALUES
-- 计算机学院课程
('CS101', 1, 4, 50, 10, 4, 1),    -- 数据结构 [教室1:60容量] 周一1-2,周三1-2
('CS102', 2, 4, 70, 10, 2, 0),    -- 计算机组成原理 [教室2:80容量] 周二1-2,周四3-4
('CS103', 3, 4, 50, 10, 2, 0),    -- 操作系统 [教室3:60容量] 周一3-4,周三5
('CS201', 4, 4, 90, 10, 1, 1),    -- 计算机网络 [教室4:100容量] 周二3-4,周四1-2
-- 软件学院课程
('SE101', 5, 4, 40, 10, 4, 0),    -- 软件工程 [教室5:50容量] 周一5,周三3-4
('SE102', 6, 4, 40, 10, 3, 1),    -- 数据库系统 [教室6:50容量] 周二1-2,周四3-4
('SE103', 8, 4, 30, 10, 1, 0),    -- 软件测试 [教室8:40容量] 周三1-2
('SE201', 9, 4, 30, 10, 2, 0),    -- Web开发 [教室9:40容量] 周四1-2,周五3-4
-- 信息安全学院课程
('IS101', 11, 4, 25, 5, 1, 0),    -- 密码学 [教室11:30容量] 周二3-4,周四1-2
('IS102', 10, 4, 50, 10, 2, 0),   -- 网络安全 [教室10:60容量] 周一1-2,周三3-4
-- 数学学院课程
('MATH101', 7, 4, 100, 20, 1, 1), -- 高等数学A [教室7:120容量] 周一1-2,周三1-2,周五1-2
('MATH102', 2, 4, 70, 10, 1, 2),  -- 线性代数 [改教室2:80容量,降名额] 周二3-4,周四1-2
-- 物理学院课程
('PHY102', 12, 4, 25, 5, 2, 0);   -- 大学物理实验 [教室12:30容量] 周四3-4

-- 8. 插入授课关系
INSERT INTO `授课关系表` (`教师ID`, `开课实例ID`) VALUES
-- 数据结构与算法 - 张教授和王讲师
(3, 1),
(5, 1),
-- 计算机组成原理 - 李副教授
(4, 2),
-- 操作系统 - 张教授
(3, 3),
-- 计算机网络 - 王讲师
(5, 4),
-- 软件工程 - 赵教授
(6, 5),
-- 数据库系统 - 刘副教授和陈讲师
(7, 6),
(8, 6),
-- 软件测试 - 陈讲师
(8, 7),
-- Web开发技术 - 赵教授
(6, 8),
-- 密码学 - 孙教授
(9, 9),
-- 网络安全 - 周副教授
(10, 10),
-- 高等数学A - 吴教授和郑副教授
(11, 11),
(12, 11),
-- 线性代数 - 钱讲师
(13, 12),
-- 大学物理实验 - 陈讲师
(15, 13);

-- 9. 插入上课时间 (简化版,包含多种周次安排场景)
INSERT INTO `上课时间表` (`开课实例ID`, `时间段ID`, `教师ID`, `起始周`, `结束周`, `单双周`) VALUES
-- 数据结构与算法 (周一1-2, 周三1-2, 全学期) - 分教师授课
(1, 1, 3, 1, 16, '全部'),   -- 周一上午1-2节 张教授 全学期
(1, 2, 3, 1, 16, '全部'),   -- 周一上午3-4节 张教授 全学期
(1, 11, 5, 1, 16, '全部'),  -- 周三上午1-2节 王讲师 全学期
(1, 12, 5, 1, 16, '全部'),  -- 周三上午3-4节 王讲师 全学期
-- 计算机组成原理 (周二1-2, 周四3-4, 前8周理论+后8周实验)
(2, 6, 4, 1, 8, '全部'),    -- 周二上午1-2节 前8周理论
(2, 7, 4, 1, 8, '全部'),    -- 周二上午3-4节 前8周理论
(2, 18, 4, 9, 16, '全部'),  -- 周四下午1-2节 后8周实验
-- 操作系统 (周一3-4, 周三5, 全学期)
(3, 3, 3, 1, 16, '全部'),
(3, 4, 3, 1, 16, '全部'),
(3, 13, 3, 1, 16, '全部'),
-- 计算机网络 (周二3-4, 周四1-2, 全学期)
(4, 8, 5, 1, 16, '全部'),
(4, 9, 5, 1, 16, '全部'),
(4, 16, 5, 1, 16, '全部'),
-- 软件工程 (周一5, 周三3-4, 全学期)
(5, 5, 6, 1, 16, '全部'),
(5, 13, 6, 1, 16, '全部'),
(5, 14, 6, 1, 16, '全部'),
-- 数据库系统 (周二1-2理论全学期, 周四3-4实验单周) - 分教师授课
(6, 6, 7, 1, 16, '全部'),   -- 周二上午1-2节 刘副教授 理论课全学期
(6, 7, 7, 1, 16, '全部'),   -- 周二上午3-4节 刘副教授 理论课全学期
(6, 18, 8, 1, 16, '单周'),  -- 周四下午1-2节 陈讲师 实验课单周
-- 软件测试 (周三1-2, 后8周)
(7, 11, 8, 9, 16, '全部'),
(7, 12, 8, 9, 16, '全部'),
-- Web开发技术 (周四1-2, 周五3-4, 全学期)
(8, 16, 6, 1, 16, '全部'),
(8, 17, 6, 1, 16, '全部'),
(8, 23, 6, 1, 16, '全部'),
-- 密码学 (周二3-4, 周四1-2, 全学期)
(9, 8, 9, 1, 16, '全部'),
(9, 9, 9, 1, 16, '全部'),
(9, 16, 9, 1, 16, '全部'),
-- 网络安全 (周一1-2, 周三3-4, 全学期)
(10, 1, 10, 1, 16, '全部'),
(10, 2, 10, 1, 16, '全部'),
(10, 13, 10, 1, 16, '全部'),
-- 高等数学A (周一1-2, 周三1-2, 周五1-2, 全学期) - 分教师授课
(11, 1, 11, 1, 16, '全部'),   -- 周一上午 吴教授
(11, 2, 11, 1, 16, '全部'),
(11, 11, 12, 1, 16, '全部'),  -- 周三上午 郑副教授
(11, 12, 12, 1, 16, '全部'),
(11, 21, 11, 1, 16, '全部'),  -- 周五上午 吴教授
(11, 22, 11, 1, 16, '全部'),
-- 线性代数 (周二3-4, 周四1-2, 全学期)
(12, 8, 13, 1, 16, '全部'),
(12, 9, 13, 1, 16, '全部'),
(12, 16, 13, 1, 16, '全部'),
-- 大学物理实验 (周四3-4, 双周, 全学期)
(13, 18, 15, 1, 16, '双周'),
(13, 19, 15, 1, 16, '双周');

-- 10. 插入选课记录 (简化版)
INSERT INTO `选课记录表` (`学生ID`, `开课实例ID`, `选课时间`) VALUES
-- 张三(计算机学院,ID=16)
(16, 1, '2025-02-02 10:00:00'),  -- 数据结构 (本院)
(16, 3, '2025-02-02 10:05:00'),  -- 操作系统 (本院)
(16, 4, '2025-02-02 10:10:00'),  -- 计算机网络 (本院)
-- 李四(计算机学院,ID=17)
(17, 1, '2025-02-02 11:00:00'),  -- 数据结构 (本院)
(17, 2, '2025-02-02 11:05:00'),  -- 计算机组成原理 (本院)
(17, 12, '2025-02-02 11:10:00'), -- 线性代数 (跨院系)
-- 王五(计算机学院,ID=18)
(18, 3, '2025-02-02 12:00:00'),  -- 操作系统 (本院)
-- 赵六(计算机学院,ID=19)
(19, 1, '2025-02-03 09:00:00'),  -- 数据结构 (本院)
(19, 2, '2025-02-03 09:05:00'),  -- 计算机组成原理 (本院)
-- 郑一(软件学院,ID=24)
(24, 1, '2025-02-02 10:00:00'),  -- 数据结构 (跨院系)
(24, 5, '2025-02-02 10:05:00'),  -- 软件工程 (本院)
(24, 6, '2025-02-02 10:10:00'),  -- 数据库系统 (本院)
(24, 8, '2025-02-02 10:15:00'),  -- Web开发 (本院)
-- 王二(软件学院,ID=25)
(25, 5, '2025-02-02 11:00:00'),  -- 软件工程 (本院)
(25, 6, '2025-02-02 11:05:00'),  -- 数据库系统 (本院)
(25, 7, '2025-02-02 11:10:00'),  -- 软件测试 (本院)
-- 刘三(软件学院,ID=26)
(26, 6, '2025-02-02 12:00:00'),  -- 数据库系统 (本院)
(26, 8, '2025-02-02 12:05:00'),  -- Web开发 (本院)
-- 陈四(软件学院,ID=27)
(27, 5, '2025-02-03 09:00:00'),  -- 软件工程 (本院)
-- 徐七(信息安全,ID=29)
(29, 4, '2025-02-02 10:00:00'),  -- 计算机网络 (跨院系)
(29, 10, '2025-02-02 10:05:00'), -- 网络安全 (本院)
-- 朱八(信息安全,ID=30)
(30, 9, '2025-02-02 11:00:00'),  -- 密码学 (本院)
(30, 10, '2025-02-02 11:05:00'), -- 网络安全 (本院)
(30, 6, '2025-02-02 11:10:00'),  -- 数据库系统 (跨院系)
-- 高一(数学学院,ID=35)
(35, 11, '2025-02-02 10:00:00'), -- 高等数学A (本院)
(35, 12, '2025-02-02 10:05:00'), -- 线性代数 (本院)
-- 宋四(物理学院,ID=38)
(38, 11, '2025-02-02 10:00:00'), -- 高等数学A (跨院系)
(38, 13, '2025-02-02 10:05:00'), -- 大学物理实验 (本院)
-- 唐五(物理学院,ID=39)
(39, 12, '2025-02-02 11:00:00'), -- 线性代数 (跨院系)
(39, 13, '2025-02-02 11:10:00'); -- 大学物理实验 (本院)

SET FOREIGN_KEY_CHECKS = 1;